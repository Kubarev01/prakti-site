<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <title>Второе задание</title>

</head>

<body>
    <h3>2 задание</h3>
    <nav>
        <a class="next" href="./index.html">
            <ul>перейти на первое задание</ul>
        </a>
        <a class= "next" href="./calculator.html">
            <ul>перейти на к Калькулятору</ul>
        </a>
        


    </nav>
    <h2>Введите стороны</h2>
    <div>
        <p>Сторона A</p>
        <input id="sideA" type="number" value="">
    </div>
    <div>
        <p>Сторона B</p>
        <input id="sideB" type="number" value="">
    </div>
    <div>
        <p>Сторона C</p>
        <input id="sideC" type="number" value="">
    </div>
    <button class="button" id="calculate">Рассчитать</button>
    <button class="button red" id="clear">Очистить</button>
    <p  class= "warning" id="result"></p>

    <script>
        document.getElementById('clear').addEventListener('click', function () {
            document.getElementById("sideA").value = "";
            document.getElementById("sideB").value = "";
            document.getElementById("sideC").value = "";
            
        })
        

        document.getElementById('calculate').addEventListener('click', function () {
            const a = parseFloat(document.getElementById('sideA').value);
            const b = parseFloat(document.getElementById('sideB').value);
            const c = parseFloat(document.getElementById('sideC').value);

            if (String(a).length> 10 || String(b).length>10 || String(c).length){
                alert("Слишком длинное число");
                return;
            }
        


            if (isNaN(a) || isNaN(b) || isNaN(c)) {
                document.getElementById('result').className="warning"
                document.getElementById('result').innerText = "Пожалуйста, введите правильные значения для всех сторон.";
                return;
            }


            if (a + b <= c || a + c <= b || b + c <= a) {
                document.getElementById('result').className="warning"
                document.getElementById('result').innerText = "Треугольник с такими сторонами не может существовать.";
                alert("Ошибка! Треугольник с такими сторонами не может существовать.")
                return;
            }


            const s = (a + b + c) / 2;
            const area = Math.sqrt(s * (s - a) * (s - b) * (s - c));
            
            const bigSide = Math.max(a, b, c);
            let triangleType;

            const lst = [a, b, c];
            lst.splice(lst.indexOf(bigSide), 1); 


            if (a + b <= c || a + c <= b || b + c <= a) {
                alert("Треугольник с такими сторонами не может существовать.");
            } else {
               
                const sumOfSquares = Math.pow(lst[0], 2) + Math.pow(lst[1], 2);
                const squareOfBigSide = Math.pow(bigSide, 2);

                if (squareOfBigSide === sumOfSquares) {
                    triangleType = "прямоугольный";
                } else if (squareOfBigSide > sumOfSquares) {
                    triangleType = "тупоугольный";
                } else {
                    triangleType = "остроугольный";
                }


            }



            document.getElementById('result').innerText = `Площадь треугольника: ${area.toFixed(2)}. Тип треугольника: ${triangleType}.`;
        });
    </script>
</body>

</html>
